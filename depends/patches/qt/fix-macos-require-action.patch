--- a/qtbase/src/plugins/platforms/cocoa/qcocoahelpers.mm
+++ b/qtbase/src/plugins/platforms/cocoa/qcocoahelpers.mm
@@ -653,11 +653,12 @@ CGContextRef qt_mac_cg_context(QPaintDevice *pdev)
 OSStatus qt_mac_drawCGImage(CGContextRef inContext, const CGRect *inBounds, CGImageRef inImage)
 {
     // Verbatim copy if HIViewDrawCGImage (as shown on Carbon-Dev)
-    OSStatus err = noErr;
+    if (!inContext || !inBounds || !inImage)
+        return paramErr;

-    require_action(inContext != NULL, InvalidContext, err = paramErr);
-    require_action(inBounds != NULL, InvalidBounds, err = paramErr);
-    require_action(inImage != NULL, InvalidImage, err = paramErr);
+    CGContextSaveGState(inContext);
+    CGContextTranslateCTM(inContext, 0, inBounds->origin.y + CGRectGetMaxY(*inBounds));
+    CGContextScaleCTM(inContext, 1, -1);

-    CGContextSaveGState( inContext );
-    CGContextTranslateCTM (inContext, 0, inBounds->origin.y + CGRectGetMaxY(*inBounds));
-    CGContextScaleCTM(inContext, 1, -1);
+    CGContextDrawImage(inContext, *inBounds, inImage);

-    CGContextDrawImage(inContext, *inBounds, inImage);
+    CGContextRestoreGState(inContext);

-    CGContextRestoreGState(inContext);
-InvalidImage:
-InvalidBounds:
-InvalidContext:
-        return err;
+    return noErr;
 }

 Qt::MouseButton cocoaButton2QtButton(NSInteger buttonNum)
